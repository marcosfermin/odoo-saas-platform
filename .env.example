# =============================================================================
# Odoo SaaS Platform Configuration
# =============================================================================
# Copy this file to .env and update with your values
# Never commit .env to version control

# -----------------------------------------------------------------------------
# Core Platform Settings
# -----------------------------------------------------------------------------
# Main domain for the platform
DOMAIN=your-domain.com
# Admin dashboard subdomain
ADMIN_DOMAIN=admin.your-domain.com
# Customer portal subdomain  
PORTAL_DOMAIN=portal.your-domain.com

# Secret key for JWT and session encryption (generate with: openssl rand -hex 32)
SECRET_KEY=CHANGE_ME_TO_32_CHAR_HEX_STRING

# Odoo master password for database operations
ODOO_MASTER_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# Environment (development, staging, production)
ENVIRONMENT=development

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection settings
PG_HOST=postgres
PG_PORT=5432
PG_USER=odoo
PG_PASSWORD=CHANGE_ME_SECURE_PASSWORD
PG_DATABASE=odoo_saas_platform

# Database connection pool settings
PG_MAX_CONNECTIONS=100
PG_POOL_SIZE=20

# -----------------------------------------------------------------------------
# Redis Configuration  
# -----------------------------------------------------------------------------
# Redis for caching and job queues
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_DB=0

# RQ worker settings
RQ_WORKERS=4
RQ_QUEUE_DEFAULT_TIMEOUT=300

# -----------------------------------------------------------------------------
# S3 Backup Configuration
# -----------------------------------------------------------------------------
# AWS credentials and region
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=CHANGE_ME
AWS_REGION=us-east-1

# S3 bucket for backups
S3_BUCKET=odoo-saas-backups-your-suffix
S3_KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

# Backup retention (days)
BACKUP_RETENTION_DAYS=30
# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# -----------------------------------------------------------------------------
# Billing Integration
# -----------------------------------------------------------------------------
# Stripe configuration
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_SIGNING_SECRET=whsec_...

# Paddle configuration (alternative to Stripe)
PADDLE_PUBLIC_KEY_BASE64=LS0tLS1CRUdJTi...
PADDLE_SIGNING_SECRET=pdl_...

# Default billing settings
DEFAULT_TRIAL_DAYS=14
BILLING_GRACE_PERIOD_DAYS=7

# -----------------------------------------------------------------------------
# Email Configuration
# -----------------------------------------------------------------------------
# SMTP settings for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=notifications@your-domain.com
SMTP_PASSWORD=CHANGE_ME_EMAIL_PASSWORD
SMTP_USE_TLS=true

# Email addresses
FROM_EMAIL=noreply@your-domain.com
ADMIN_EMAIL=admin@your-domain.com
SUPPORT_EMAIL=support@your-domain.com

# -----------------------------------------------------------------------------
# Monitoring & Alerts
# -----------------------------------------------------------------------------
# Slack webhook for alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX

# Alert email settings
ALERT_EMAIL_TO=ops@your-domain.com
ALERT_EMAIL_FROM=alerts@your-domain.com

# Prometheus settings
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# JWT token expiration (seconds)
JWT_ACCESS_TOKEN_EXPIRES=3600
JWT_REFRESH_TOKEN_EXPIRES=604800

# Rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://admin.your-domain.com,https://portal.your-domain.com

# 2FA settings (optional)
ENABLE_2FA=false
TOTP_ISSUER=Odoo SaaS Platform

# -----------------------------------------------------------------------------
# TLS/SSL Configuration
# -----------------------------------------------------------------------------
# Let's Encrypt settings
LETSENCRYPT_EMAIL=admin@your-domain.com
LETSENCRYPT_STAGING=false

# Cloudflare DNS (for DNS-01 challenge)
CLOUDFLARE_API_TOKEN=CHANGE_ME_CLOUDFLARE_TOKEN
CLOUDFLARE_ZONE_ID=CHANGE_ME_ZONE_ID

# -----------------------------------------------------------------------------
# Odoo Configuration
# -----------------------------------------------------------------------------
# Odoo version
ODOO_VERSION=16.0

# Default database template
ODOO_DB_TEMPLATE=template_odoo

# Resource limits per tenant
MAX_DB_SIZE_GB=10
MAX_USERS_PER_TENANT=50
MAX_FILESTORE_GB=5

# Module management
ALLOWED_MODULES=sale,purchase,inventory,accounting,crm,project,hr,website

# -----------------------------------------------------------------------------
# Kubernetes Settings (when deploying to K8s)
# -----------------------------------------------------------------------------
# Kubernetes namespace
K8S_NAMESPACE=odoo-saas

# Resource requests and limits
ODOO_CPU_REQUEST=500m
ODOO_CPU_LIMIT=2000m
ODOO_MEMORY_REQUEST=1Gi
ODOO_MEMORY_LIMIT=4Gi

# Horizontal Pod Autoscaler
HPA_MIN_REPLICAS=2
HPA_MAX_REPLICAS=10
HPA_CPU_THRESHOLD=70

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
# Debug mode (never enable in production)
DEBUG=false
FLASK_DEBUG=false

# Development database seeding
SEED_DEMO_DATA=false

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Custom Integration Settings
# -----------------------------------------------------------------------------
# Webhook endpoints for external integrations
WEBHOOK_SECRET=CHANGE_ME_WEBHOOK_SECRET
WEBHOOK_TIMEOUT=30

# External API endpoints
ANALYTICS_API_URL=https://api.your-analytics.com
CRM_API_URL=https://api.your-crm.com